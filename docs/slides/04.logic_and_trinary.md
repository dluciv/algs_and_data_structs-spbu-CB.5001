<!-- -*- coding: utf-8 -*- -->
<span id="slides-title" hidden>Булева и многозначные логики; cимметричные системы счисления; троичная информатика</span>

# Минимальный набор логических операций

- - - - - -

## Мощность пространства функций

-   Пространство $P = \\{ f | X \rightarrow Y \\}$

    -   то же самое, что $Y^X$

    -   для конечных пространств:
        $$X=X_1\times X_2 \Rightarrow |X| = |X_1| |X_2|$$
        $$|P| = |Y|^{|X|} = |Y|^{|X_1| |X_2|}$$

- - - - - -

## Булевы функции

-   $B = \\{ Истина, Ложь \\}$

-   $P_n = \\{ f | B^n \rightarrow B \\}$ — n-арные функции

### Состав $B^n$

$|P_n|=|B|^{|B^n|}=2^{2^n}$

$n \le 2$

1.  $n=0$ — 2 константные функции

2.  $n=1$ — И, Л, $x_1, \neg x_1$

3.  $n=2$ — 16 функций

- - - - - -
## Дизъюнктивная нормальная форма

**ДНФ** — представление функции в форме дизъюнкции конъюнкций

### Пример

Перенос при сложении двух однозначных двоичных чисел
вычисляется, как
$C = (A \wedge B) \vee (B \wedge C) \vee (C \wedge A)$

@pause@

### Построение

По всем сочетаниям аргументов, для которых функция истинна, строятся конъюнкции. Вся функция строится, как дизъюнкция конъюнкций.

Для любой функции достаточно связок «И», «ИЛИ» и «НЕ»

- - - - - -
## Базис пространства

**Базис** — набор функций, через которые можно выразить любые другие функции. Любая функция из $P_n$ выражается при помощи связок И, ИЛИ и НЕ.

@pause@

Минимальные базисы

-   **Стрелка Пирса**
    $x \downarrow y = \neg (x \lor y) = \overline{x} \land \overline{y}$

-   **Штрих Шефера**
    $x | y = \neg (x \land y) =  \overline x \lor \overline y$

@pause@

- - - - - -

## В электронике

Базисные функции могут быть основой и для элементной базы ЭВМ. Пример для стрелки
Пирса:

-   $\neg x = \neg (x \lor x) = x \downarrow x$ — дальше можем
    пользоваться $\neg x$;

-   $x \lor y = \neg \neg (x \lor y) = \neg (x \downarrow y)$ — дальше
    знаем $x \lor y$;

-   $x \land y = \neg (\overline x \lor \overline y)$.

<div class="fragment" /> 

Зная выражение для И, ИЛИ и НЕ, можем через нормальную форму выразить любую функцию.

- - - - - -

## Подробнее

https://ru.wikipedia.org/wiki/Алгебра_логики

https://ru.wikipedia.org/wiki/Булева_алгебра

Википедия! Русская! Да!

= = = = = =

# Многозначные и нечёткие логики

- - - - - -

## Лотфи Заде

<div style="text-align: center;">

![](images/04.Zadeh_2005.jpg) <!--.element: style="width: 30%;" -->

</div>

1965 г. Принадлежит ли элемент множеству? Отчасти. На $x \in [0, 1]$.

- - - - - -

## Мы будем использовать

$[-1, 1]$

- - - - - -

## Пространства

- - - - - -

### Многозначная троичная (одна из)

Числовой эквивалент
$$n : T = \\{ Л, Н, И \\} \rightarrow \\{ -1, 0, 1 \\}$$

$$B \subset T$$

 Значение ($t$) | $n(t)$ | Смысл
:--------------:|-------:|-------
              И |      1 | Истина
              Н |      0 | Неизвестность/спорность
              Л |     -1 | Ложь

- - - - - -

### Континуальная нечёткая (одна из)

Числовой эквивалент $$n : F = [\mbox{Л, И}] \rightarrow [-1,1]$$

$$T \subset F$$

 Значение ($t$) | $n(t)$   | Смысл
:--------------:|---------:|-------
              И |      1  | Истина
                | $(0, 1)$ | Истина с разной степенью уверенности
              Н |       0  | Неизвестность/спорность
                | $(-1,0)$ | Ложь с разной степенью уверенности
              Л |      -1  | Ложь

- - - - - -

## Логические операции

* $t_1 \land t_2 = n^{-1}(\min(n(t_1), n(t_2))$
* $t_1 \lor t_2 = n^{-1}(\max(n(t_1), n(t_2))$
*      $\lnot t = n^{-1}(-n(t))$


<div class="fragment" />

### Для логики Заде 

$\lnot t = n^{-1}(1-n(t))$

- - - - - -

## Консервативное расширение пространства

Пусть есть пространство $S$ c бинарными $S \times S \rightarrow S$ и унарными $S \rightarrow S$ операциями.

Пространство $S'$ **консервативно расширяет** $S$, если

* $S \subset S'$
* Для $S'$ определены те же операции, что и для $S$
* Получив на вход элементы $S$, операции пространства $S'$ выдают те же результаты, что и операции пространства $S$


- - - - - -

## Корректность и полнота

<div class="fragment" /> 

### Консервативность

$$B \subset T \subset F$$

$$\forall x \in B ~ \forall y \in B ~{}~ x \land_{F,T} y = x \land_B y \in B$$
$$\forall x \in T ~ \forall y \in T ~{}~ x \land_F y = x \land_T y \in T$$

Аналогично,

$$(\lor)_F, (\lnot)_F: F \rightarrow F ~, T \rightarrow T ~ \mbox{и} ~ B \rightarrow B$$

<div class="fragment" /> 
Описанные логики является консервативными расширениями булевой.

<div class="fragment" /> 

### Полнота

Через $\land, \lnot, \lor$ можно, как и в классической булевой логике,
выразить все нужные функции. Однако, в зависимости от применения, эти
функции могут расширяться по-разному.

<div class="fragment" /> 
Например, импликация может быть не только «материальной» ($t_1 \Rightarrow t_2 \leftrightarrow \lnot t_1 \lor t_2$),
но и ещё много какой. Например, м.б. импликации Лукасевича (часть т.н. модальной
логики), Гейтинга.

- - - - - -

## Ссылки

* https://ru.wikipedia.org/wiki/Троичная_логика
* https://ru.wikipedia.org/wiki/Троичный_компьютер
* http://trinary.ru/

= = = = = =

# Симметричные позиционные системы

- - - - - -

## Основная информация

Основание систем нечетное, одна цифра изображает числа
$c_k\in[-T,T], B=2T+1$. Число представляется так же, как и для
неотрицательных систем.

$$v = \sum_{k=1}^N c_k B^{k-1}$$

<div class="fragment" /> 
Ценные свойства:

-   отбрасыванием ненужных цифр происходит округление в сторону
    ближайшего, а не меньшего, целого;

-   отрицательные числа представляются естественным образом, так же, как
    и положительные.

<div class="fragment" /> 

### Упражнение

Обосновать первое свойство

- - - - - -

## Однозначность положительных чисел

-   По аналогии с неотрицательными системами, покажем, что
    $$1\times B^N > \sum_{k=1}^N {\frac{B-1}{2}}\times B^{k-1}$$

-   Это верно, так как ранее уже было доказано более сильное
    утверждение.

-   Аналогично, если две записи одного и того же числа отличаются, то
    отличия проявляются вплоть до какой-то цифры. Отличия в самой
    старшей отличающейся цифре должны компенсироваться младшими.

-   Но это, как мы доказали, невозможно, т.к. никакой набор младших цифр
    не будет давать значение, равное значению единицы в старшей цифре.

### Однозначность представления

Положительных доказали

<div class="fragment" /> 
Отрицательных аналогично

<div class="fragment" /> 
0 аналогично =)

- - - - - -

Перевод в симметричную позиционную систему
------------------------------------------

```
(define (val->symn value base)
  (let ((half (/ (- base 1) 2)))
    (if (= value 0)
        '() ; для нуля цифр не нужно
        (let* (
                  (predigit (modulo value base))
                  (digit
                    (if (> predigit half)
                        (- predigit base)
                        predigit
                 )))
; когда цифра вне допустимого диапазона, "нормализуем" её
; алгоритм завершится, несмотря на отрицательные цифры
          (append
           (val->symn (/ (- value digit) base) base)
           (list digit)
           )
          )
        )
    )
  )
```

= = = = = = =

# Троичная симметричная сстема счисления

- - - - - - -

## Система

-   Система строится на цифрах $ \\{ -1, 0, 1 \\} $. Для записи -1 одним знаком
    пишут $\overline{1}$.

-   Система применялась в машине «Сетунь» (Н. П. Брусенцов,
    1959 г., ВЦ МГУ)

-   Сложение поразрядное с переносом 0, 1 или -1.

-   Умножение производится тоже по классической схеме, путем сдвига и
    сложения. Деление — путем сдвига и вычитания.

-   По мнению проф. Д. Э. Кнута, троичные информатика и математика
    должны быть более изящными, чем двоичные.

- - - - - -

## Ёмкость троичной системы

Если считать стоимость ячейки равной $C_B = B$ фантиков (пропорционально
количеству состояний), то для записи числа $x$ потребуется:

$$C\_x(B) = B \log\_B x = B \frac{\log\_{C\_2} x}{\log\_{C\_2} B}$$ фантиков.

$$\frac{d C\_x(B)}{dB} = \log\_{C\_2} x \left(\frac{\log\_{C\_2} B - 1}{\log\_{C\_2}^2 B}\right) = 0$$

<div class="fragment" /> 
$$B = e!$$ самая ёмкая система — $e$-ичная.

<div class="fragment" /> 
Для целых оснований достаточно $\forall x ~ C_x(3) < C_x(2)$.

<div class="fragment" /> 
К сожалению, электронные бинарные ячейки *существенно* дешевле тернарных
и прочих.

= = = = = =

Троичные структуры данных и алгоритмы
=====================================

### Деревья

http://trinary.ru/projects/thencoder/

<div class="fragment" /> 

Упражнение В приведённом генераторе словаря Хаффмана на приведённом
прямо на сайте примере показать, что метод Хаффмана для тернарных
деревьев требует модификации (а авторы генератора этим манкировали =Р)

- - - - - -

### Хэш-таблицы

По сути без изменений

- - - - - -

### Сортировка и поиск

Двоичные алгоритмы делят данные по принципу «$\leq,>$» или
«$<,\geq$» на два примерно равных по мощности класса.

Троичное деление по принципу «$<,=,>$» будет неравномерным. Нужны
другие подходы или готовая информация о распределении данных.

= = = = = =

### Упражнения

* Выразите штрих Шефера и импликацию ($\Rightarrow$) через стрелку Пирса
* Переведите два числа в любую симметричную систему счисления. Сложите их. Умножьте их.
* Посчитайте, сколько есть возможных вариантов консервативного расширения импликации на случай троичной логики?
* Модифицируйте алгоритм Хаффмана для построения оптимального троичного словаря

### Вопросы
* Что такое конъюнктивная нормальная форма?
* Что такое базис пространства булевых функций?
* Что такое консервативное расширение?
* Как вычисляется значение числа по записи в симметричной позиционной системе?
